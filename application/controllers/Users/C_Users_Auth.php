<?phpinclude_once('application/models/M_Users.php');include_once('application/controllers/C_Base.php');    //Контролер aвторизациіїclass C_Users_Auth extends C_Base{    private $err;    // Конструктор    function __construct()    {        parent::__construct();        $this->needAuth = true;        $this->err = array();    }    // Обробник запиту    protected function OnInput()    {        parent::OnInput();        $mUsers = M_Users::Instance();        $mUsers->Logout();        $this->user = null;        $this->title = 'Авторизація';        // Обробка відправки форми        if (!empty($_POST)) {            $this->err = array();            if ($mUsers->Login($_POST['login'], $_POST['password'], isset($_POST['remember']))) {                header('Location: /');                die();            } else {                $this->err[] = "Невірний логін або пароль";            }        }    }    //    // Виртуальный генератор HTML.    //    protected function OnOutput()    {        $vars = array('errs' => $this->err, 'lan' => $this->lan);        $this->content = $this->View('templates/theme/v_auth.php', $vars);        parent::OnOutput();    }}